!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e=window.lazySizesConfig;"lazySizesConfig"in window&&delete window.lazySizesConfig;var t,n=(function(e){var t,n;t=window,n=function(c,F){if(!F.getElementsByClassName)return;var R,k,D=F.documentElement,d=c.Date,i=c.HTMLPictureElement,H="addEventListener",O="getAttribute",P=c[H],$=c.setTimeout,r=c.requestAnimationFrame||$,I=c.requestIdleCallback,q=/^picture$/i,a=["load","error","lazyincluded","_lazyloaded"],n={},U=Array.prototype.forEach,j=function(e,t){return n[t]||(n[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),n[t].test(e[O]("class")||"")&&n[t]},G=function(e,t){j(e,t)||e.setAttribute("class",(e[O]("class")||"").trim()+" "+t)},J=function(e,t){var n;(n=j(e,t))&&e.setAttribute("class",(e[O]("class")||"").replace(n," "))},K=function(t,n,e){var i=e?H:"removeEventListener";e&&K(t,n),a.forEach(function(e){t[i](e,n)})},Q=function(e,t,n,i,a){var o=F.createEvent("Event");return n||(n={}),n.instance=R,o.initEvent(t,!i,!a),o.detail=n,e.dispatchEvent(o),o},V=function(e,t){var n;!i&&(n=c.picturefill||k.pf)?(t&&t.src&&!e[O]("srcset")&&e.setAttribute("srcset",t.src),n({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},X=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,n){for(n=n||e.offsetWidth;n<k.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},Y=function(){var n,i,t=[],a=[],o=t,s=function(){var e=o;for(o=t.length?a:t,i=!(n=!0);e.length;)e.shift()();n=!1},e=function(e,t){n&&!t?e.apply(this,arguments):(o.push(e),i||(i=!0,(F.hidden?$:r)(s)))};return e._lsFlush=s,e}(),Z=function(n,e){return e?function(){Y(n)}:function(){var e=this,t=arguments;Y(function(){n.apply(e,t)})}},ee=function(e){var t,n,i=function(){t=null,e()},a=function(){var e=d.now()-n;e<99?$(a,99-e):(I||i)(i)};return function(){n=d.now(),t||(t=$(a,99))}};!function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in k=c.lazySizesConfig||c.lazysizesConfig||{},t)e in k||(k[e]=t[e]);c.lazySizesConfig=k,$(function(){k.init&&o()})}();var e=function(){var z,y,u,m,e,g,h,v,p,C,b,w,o=/^img$/i,f=/^iframe$/i,A="onscroll"in c&&!/(gle|ing)bot/.test(navigator.userAgent),E=0,_=0,x=-1,M=function(e){_--,e&&!(_<0)&&e.target||(_=0)},N=function(e){return null==w&&(w="hidden"==X(F.body,"visibility")),w||"hidden"!=X(e.parentNode,"visibility")&&"hidden"!=X(e,"visibility")},S=function(e,t){var n,i=e,a=N(e);for(v-=t,b+=t,p-=t,C+=t;a&&(i=i.offsetParent)&&i!=F.body&&i!=D;)(a=0<(X(i,"opacity")||1))&&"visible"!=X(i,"overflow")&&(n=i.getBoundingClientRect(),a=C>n.left&&p<n.right&&b>n.top-1&&v<n.bottom+1);return a},t=function(){var e,t,n,i,a,o,s,r,l,c,d,u,f=R.elements;if((m=k.loadMode)&&_<8&&(e=f.length)){for(t=0,x++;t<e;t++)if(f[t]&&!f[t]._lazyRace)if(!A||R.prematureUnveil&&R.prematureUnveil(f[t]))B(f[t]);else if((r=f[t][O]("data-expand"))&&(o=1*r)||(o=E),c||(c=!k.expand||k.expand<1?500<D.clientHeight&&500<D.clientWidth?500:370:k.expand,R._defEx=c,d=c*k.expFactor,u=k.hFac,w=null,E<d&&_<1&&2<x&&2<m&&!F.hidden?(E=d,x=0):E=1<m&&1<x&&_<6?c:0),l!==o&&(g=innerWidth+o*u,h=innerHeight+o,s=-1*o,l=o),n=f[t].getBoundingClientRect(),(b=n.bottom)>=s&&(v=n.top)<=h&&(C=n.right)>=s*u&&(p=n.left)<=g&&(b||C||p||v)&&(k.loadHidden||N(f[t]))&&(y&&_<3&&!r&&(m<3||x<4)||S(f[t],o))){if(B(f[t]),a=!0,9<_)break}else!a&&y&&!i&&_<4&&x<4&&2<m&&(z[0]||k.preloadAfterLoad)&&(z[0]||!r&&(b||C||p||v||"auto"!=f[t][O](k.sizesAttr)))&&(i=z[0]||f[t]);i&&!a&&B(i)}},n=function(e){var n,i=0,a=k.throttleDelay,o=k.ricTimeout,t=function(){n=!1,i=d.now(),e()},s=I&&49<o?function(){I(t,{timeout:o}),o!==k.ricTimeout&&(o=k.ricTimeout)}:Z(function(){$(t)},!0);return function(e){var t;(e=!0===e)&&(o=33),n||(n=!0,(t=a-(d.now()-i))<0&&(t=0),e||t<9?s():$(s,t))}}(t),W=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(M(e),G(t,k.loadedClass),J(t,k.loadingClass),K(t,L),Q(t,"lazyloaded"))},i=Z(W),L=function(e){i({target:e.target})},T=function(e){var t,n=e[O](k.srcsetAttr);(t=k.customMedia[e[O]("data-media")||e[O]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},s=Z(function(t,e,n,i,a){var o,s,r,l,c,d;(c=Q(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(n?G(t,k.autosizesClass):t.setAttribute("sizes",i)),s=t[O](k.srcsetAttr),o=t[O](k.srcAttr),a&&(r=t.parentNode,l=r&&q.test(r.nodeName||"")),d=e.firesLoad||"src"in t&&(s||o||l),c={target:t},G(t,k.loadingClass),d&&(clearTimeout(u),u=$(M,2500),K(t,L,!0)),l&&U.call(r.getElementsByTagName("source"),T),s?t.setAttribute("srcset",s):o&&!l&&(f.test(t.nodeName)?function(t,n){try{t.contentWindow.location.replace(n)}catch(e){t.src=n}}(t,o):t.src=o),a&&(s||l)&&V(t,{src:o})),t._lazyRace&&delete t._lazyRace,J(t,k.lazyClass),Y(function(){var e=t.complete&&1<t.naturalWidth;d&&!e||(e&&G(t,"ls-is-cached"),W(c),t._lazyCache=!0,$(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&_--},!0)}),B=function(e){if(!e._lazyRace){var t,n=o.test(e.nodeName),i=n&&(e[O](k.sizesAttr)||e[O]("sizes")),a="auto"==i;(!a&&y||!n||!e[O]("src")&&!e.srcset||e.complete||j(e,k.errorClass)||!j(e,k.lazyClass))&&(t=Q(e,"lazyunveilread").detail,a&&te.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,_++,s(e,t,a,i,n))}},a=ee(function(){k.loadMode=3,n()}),r=function(){3==k.loadMode&&(k.loadMode=2),a()},l=function(){y||(d.now()-e<999?$(l,999):(y=!0,k.loadMode=3,n(),P("scroll",r,!0)))};return{_:function(){e=d.now(),R.elements=F.getElementsByClassName(k.lazyClass),z=F.getElementsByClassName(k.lazyClass+" "+k.preloadClass),P("scroll",n,!0),P("resize",n,!0),c.MutationObserver?new MutationObserver(n).observe(D,{childList:!0,subtree:!0,attributes:!0}):(D[H]("DOMNodeInserted",n,!0),D[H]("DOMAttrModified",n,!0),setInterval(n,999)),P("hashchange",n,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){F[H](e,n,!0)}),/d$|^c/.test(F.readyState)?l():(P("load",l),F[H]("DOMContentLoaded",n),$(l,2e4)),R.elements.length?(t(),Y._lsFlush()):n()},checkElems:n,unveil:B,_aLSL:r}}(),te=function(){var n,o=Z(function(e,t,n,i){var a,o,s;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),q.test(t.nodeName||""))for(a=t.getElementsByTagName("source"),o=0,s=a.length;o<s;o++)a[o].setAttribute("sizes",i);n.detail.dataAttr||V(e,n.detail)}),i=function(e,t,n){var i,a=e.parentNode;a&&(n=s(e,a,n),(i=Q(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=i.detail.width)&&n!==e._lazysizesWidth&&o(e,a,i,n))},e=ee(function(){var e,t=n.length;if(t)for(e=0;e<t;e++)i(n[e])});return{_:function(){n=F.getElementsByClassName(k.autosizesClass),P("resize",e)},checkElems:e,updateElem:i}}(),o=function(){o.i||(o.i=!0,te._(),e._())};return R={cfg:k,autoSizer:te,loader:e,init:o,uP:V,aC:G,rC:J,hC:j,fire:Q,gW:s,rAF:Y}}(t,t.document),t.lazySizes=n,e.exports&&(e.exports=n)}(t={exports:{}},t.exports),t.exports);n.cfg.lazyClass="shogun-lazyload",n.cfg.loadedClass="shogun-lazyloaded","lazySizesConfig"in window&&(e?window.lazySizesConfig=e:delete window.lazySizesConfig)});
